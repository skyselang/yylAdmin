import{al as t,k as e,Y as n,am as i,an as r,a9 as a,J as o,ao as s,G as l,ap as u,H as c,j as d,aq as h,ar as g,$ as p,as as f,O as y,at as x,au as v,av as m,aw as A,ax as b,g as M,ay as _,az as w,V as C,t as S,C as I,a4 as L,_ as k,N as D,ah as T,aA as E,aB as R,m as O,aC as P,v as N,w as V,aD as G,E as B,af as z,a5 as F,F as W,o as H,q as U,A as Z,z as Y,aE as X,y as j,x as q,aF as J,aG as $,aH as K,a3 as Q,aI as tt,W as et,e as nt,aJ as it,ag as rt,ai as at,aK as ot,a1 as st,aL as lt,aM as ut,aN as ct,aO as dt,aP as ht,aQ as gt,h as pt,aR as ft,aS as yt,a2 as xt,aT as vt,aU as mt,aV as At,aW as bt,aX as Mt,aY as _t,aZ as wt,a_ as Ct,a$ as St,b0 as It,b1 as Lt,b2 as kt,b3 as Dt,b4 as Tt,ac as Et,u as Rt,b5 as Ot}from"./installCanvasRenderer.Dli4la9x.js";var Pt=function(){return function(t){this.coordSysDims=[],this.axisMap=n(),this.categoryAxisMap=n(),this.coordSysName=t}}();var Nt={cartesian2d:function(e,n,i,r){var a=e.getReferringComponents("xAxis",t).models[0],o=e.getReferringComponents("yAxis",t).models[0];n.coordSysDims=["x","y"],i.set("x",a),i.set("y",o),Vt(a)&&(r.set("x",a),n.firstCategoryDimIndex=0),Vt(o)&&(r.set("y",o),null==n.firstCategoryDimIndex&&(n.firstCategoryDimIndex=1))},singleAxis:function(e,n,i,r){var a=e.getReferringComponents("singleAxis",t).models[0];n.coordSysDims=["single"],i.set("single",a),Vt(a)&&(r.set("single",a),n.firstCategoryDimIndex=0)},polar:function(e,n,i,r){var a=e.getReferringComponents("polar",t).models[0],o=a.findAxisModel("radiusAxis"),s=a.findAxisModel("angleAxis");n.coordSysDims=["radius","angle"],i.set("radius",o),i.set("angle",s),Vt(o)&&(r.set("radius",o),n.firstCategoryDimIndex=0),Vt(s)&&(r.set("angle",s),null==n.firstCategoryDimIndex&&(n.firstCategoryDimIndex=1))},geo:function(t,e,n,i){e.coordSysDims=["lng","lat"]},parallel:function(t,n,i,r){var a=t.ecModel,o=a.getComponent("parallel",t.get("parallelIndex")),s=n.coordSysDims=o.dimensions.slice();e(o.parallelAxisIndex,(function(t,e){var o=a.getComponent("parallelAxis",t),l=s[e];i.set(l,o),Vt(o)&&(r.set(l,o),null==n.firstCategoryDimIndex&&(n.firstCategoryDimIndex=e))}))}};function Vt(t){return"category"===t.get("type")}function Gt(t,n,y){y=y||{};var x,v=n.getSourceManager(),m=!1;t?(m=!0,x=i(t)):m=(x=v.getSource()).sourceFormat===r;var A=function(t){var e=t.get("coordinateSystem"),n=new Pt(e),i=Nt[e];if(i)return i(t,n,n.axisMap,n.categoryAxisMap),n}(n),b=function(t,e){var n,i=t.get("coordinateSystem"),r=g.get(i);return e&&e.coordSysDims&&(n=p(e.coordSysDims,(function(t){var n={name:t},i=e.axisMap.get(t);if(i){var r=i.get("type");n.type=f(r)}return n}))),n||(n=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),n}(n,A),M=y.useEncodeDefaulter,_=a(M)?M:M?o(s,b,n):null,w={coordDimensions:b,generateCoord:y.generateCoord,encodeDefine:n.getEncode(),encodeDefaulter:_,canOmitUnusedDimensions:!m},C=l(x,w),S=function(t,n,i){var r,a;return i&&e(t,(function(t,e){var o=t.coordDim,s=i.categoryAxisMap.get(o);s&&(null==r&&(r=e),t.ordinalMeta=s.getOrdinalMeta(),n&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(a=!0)})),a||null==r||(t[r].otherDims.itemName=0),r}(C.dimensions,y.createInvertedIndices,A),I=m?null:v.getSharedDataStore(C),L=u(n,{schema:C,store:I}),k=new c(C,n);k.setCalculationInfo(L);var D=null!=S&&function(t){if(t.sourceFormat===r){var e=function(t){var e=0;for(;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return!d(h(e))}}(x)?function(t,e,n,i){return i===S?n:this.defaultDimValueGetter(t,e,n,i)}:null;return k.hasItemOption=!1,k.initData(m?x:I,null,D),k}var Bt=function(){function t(){}return t.prototype.getNeedCrossZero=function(){return!this.option.scale},t.prototype.getCoordSysModel=function(){},t}(),zt=y();function Ft(t){return"category"===t.type?function(t){var e=t.getLabelModel(),n=Ht(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(t):function(t){var e=t.scale.getTicks(),n=v(t);return{labels:p(e,(function(e,i){return{level:e.level,formattedLabel:n(e,i),rawLabel:t.scale.getLabel(e),tickValue:e.value}}))}}(t)}function Wt(t,e){return"category"===t.type?function(t,e){var n,i,r=Ut(t,"ticks"),o=x(e),s=Zt(r,o);if(s)return s;e.get("show")&&!t.scale.isBlank()||(n=[]);if(a(o))n=jt(t,o,!0);else if("auto"===o){var l=Ht(t,t.getLabelModel());i=l.labelCategoryInterval,n=p(l.labels,(function(t){return t.tickValue}))}else n=Xt(t,i=o,!0);return Yt(r,o,{ticks:n,tickCategoryInterval:i})}(t,e):{ticks:p(t.scale.getTicks(),(function(t){return t.value}))}}function Ht(t,e){var n,i,r=Ut(t,"labels"),o=x(e),s=Zt(r,o);return s||(a(o)?n=jt(t,o):(i="auto"===o?function(t){var e=zt(t).autoInterval;return null!=e?e:zt(t).autoInterval=t.calculateCategoryInterval()}(t):o,n=Xt(t,i)),Yt(r,o,{labels:n,labelCategoryInterval:i}))}function Ut(t,e){return zt(t)[e]||(zt(t)[e]=[])}function Zt(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function Yt(t,e,n){return t.push({key:e,value:n}),n}function Xt(t,e,n){var i=v(t),r=t.scale,a=r.getExtent(),o=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=a[0],c=r.count();0!==u&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var d=A(t),h=o.get("showMinLabel")||d,g=o.get("showMaxLabel")||d;h&&u!==a[0]&&f(a[0]);for(var p=u;p<=a[1];p+=l)f(p);function f(t){var e={value:t};s.push(n?t:{formattedLabel:i(e),rawLabel:r.getLabel(e),tickValue:t})}return g&&p-l!==a[1]&&f(a[1]),s}function jt(t,n,i){var r=t.scale,a=v(t),o=[];return e(r.getTicks(),(function(t){var e=r.getLabel(t),s=t.value;n(t.value,e)&&o.push(i?s:{formattedLabel:a(t),rawLabel:e,tickValue:s})})),o}var qt=[0,1];function Jt(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}const $t=function(){function t(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return t.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t<=i},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return b(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},t.prototype.dataToCoord=function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&"ordinal"===i.type&&Jt(n=n.slice(),i.count()),M(t,qt,n,e)},t.prototype.coordToData=function(t,e){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&Jt(n=n.slice(),i.count());var r=M(t,n,qt,e);return this.scale.scale(r)},t.prototype.pointToData=function(t,e){},t.prototype.getTicksCoords=function(t){var n=(t=t||{}).tickModel||this.getTickModel(),i=Wt(this,n).ticks,r=p(i,(function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}}),this);return function(t,n,i,r){var a=n.length;if(!t.onBand||i||!a)return;var o,s,l=t.getExtent();if(1===a)n[0].coord=l[0],o=n[1]={coord:l[1]};else{var u=n[a-1].tickValue-n[0].tickValue,c=(n[a-1].coord-n[0].coord)/u;e(n,(function(t){t.coord-=c/2})),s=1+t.scale.getExtent()[1]-n[a-1].tickValue,o={coord:n[a-1].coord+c*s},n.push(o)}var d=l[0]>l[1];h(n[0].coord,l[0])&&(r?n[0].coord=l[0]:n.shift());r&&h(l[0],n[0].coord)&&n.unshift({coord:l[0]});h(l[1],o.coord)&&(r?o.coord=l[1]:n.pop());r&&h(o.coord,l[1])&&n.push({coord:l[1]});function h(t,e){return t=_(t),e=_(e),d?t>e:t<e}}(this,r,n.get("alignWithLabel"),t.clamp),r},t.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");t>0&&t<100||(t=5);var e=this.scale.getMinorTicks(t);return p(e,(function(t){return p(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this)},t.prototype.getViewLabels=function(){return Ft(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},t.prototype.calculateCategoryInterval=function(){return function(t){var e=function(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(t),n=v(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,r=t.scale,a=r.getExtent(),o=r.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=a[0],u=t.dataToCoord(l+1)-t.dataToCoord(l),c=Math.abs(u*Math.cos(i)),d=Math.abs(u*Math.sin(i)),h=0,g=0;l<=a[1];l+=s){var p,f,y=m(n({value:l}),e.font,"center","top");p=1.3*y.width,f=1.3*y.height,h=Math.max(h,p,7),g=Math.max(g,f,7)}var x=h/c,A=g/d;isNaN(x)&&(x=Infinity),isNaN(A)&&(A=Infinity);var b=Math.max(0,Math.floor(Math.min(x,A))),M=zt(t.model),_=t.getExtent(),w=M.lastAutoInterval,C=M.lastTickCount;return null!=w&&null!=C&&Math.abs(w-b)<=1&&Math.abs(C-o)<=1&&w>b&&M.axisExtent0===_[0]&&M.axisExtent1===_[1]?b=w:(M.lastTickCount=o,M.lastAutoInterval=b,M.axisExtent0=_[0],M.axisExtent1=_[1]),b}(this)},t}();function Kt(t,e){var n=t.mapDimensionsAll("defaultedLabel"),i=n.length;if(1===i){var r=w(t,e,n[0]);return null!=r?r+"":null}if(i){for(var a=[],o=0;o<n.length;o++)a.push(w(t,e,n[o]));return a.join(" ")}}function Qt(t,e){var n=t.mapDimensionsAll("defaultedLabel");if(!d(e))return e+"";for(var i=[],r=0;r<n.length;r++){var a=t.getDimensionIndex(n[r]);a>=0&&i.push(e[a])}return i.join(" ")}function te(t,e,n,i,r){var o=t.getArea(),s=o.x,l=o.y,u=o.width,c=o.height,d=n.get(["lineStyle","width"])||2;s-=d/2,l-=d/2,u+=d,c+=d,u=Math.ceil(u),s!==Math.floor(s)&&(s=Math.floor(s),u++);var h=new C({shape:{x:s,y:l,width:u,height:c}});if(e){var g=t.getBaseAxis(),p=g.isHorizontal(),f=g.inverse;p?(f&&(h.shape.x+=u),h.shape.width=0):(f||(h.shape.y+=c),h.shape.height=0);var y=a(r)?function(t){r(t,h)}:null;S(h,{shape:{width:u,height:c,x:s,y:l}},n,null,i,y)}return h}function ee(t,e,n){var i=t.getArea(),r=_(i.r0,1),a=_(i.r,1),o=new I({shape:{cx:_(t.cx,1),cy:_(t.cy,1),r0:r,r:a,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});e&&("angle"===t.getBaseAxis().dim?o.shape.endAngle=i.startAngle:o.shape.r=r,S(o,{shape:{endAngle:i.endAngle,r:a}},n));return o}function ne(t,e){return t.type===e}var ie={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-Infinity,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=Infinity,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},minmax:function(t){for(var e=-Infinity,n=-Infinity,i=0;i<t.length;i++){var r=t[i],a=Math.abs(r);a>e&&(e=a,n=r)}return isFinite(n)?n:NaN},nearest:function(t){return t[0]}},re=function(t){return Math.round(t.length/2)};function ae(t){return{seriesType:t,reset:function(t,e,n){var i=t.getData(),r=t.get("sampling"),o=t.coordinateSystem,s=i.count();if(s>10&&"cartesian2d"===o.type&&r){var l=o.getBaseAxis(),u=o.getOtherAxis(l),c=l.getExtent(),d=n.getDevicePixelRatio(),h=Math.abs(c[1]-c[0])*(d||1),g=Math.round(s/h);if(isFinite(g)&&g>1){"lttb"===r&&t.setData(i.lttbDownSample(i.mapDimension(u.dim),1/g));var p=void 0;L(r)?p=ie[r]:a(r)&&(p=r),p&&t.setData(i.downSample(i.mapDimension(u.dim),1/g,p,re))}}}}}var oe=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=n.type,e}return k(n,t),n.prototype.getInitialData=function(t,e){return Gt(null,this,{useEncodeDefaulter:!0})},n.prototype.getMarkerPosition=function(t,n,i){var r=this.coordinateSystem;if(r&&r.clampData){var a=r.clampData(t),o=r.dataToPoint(a);if(i)e(r.getAxes(),(function(t,e){if("category"===t.type&&null!=n){var i=t.getTicksCoords(),r=t.getTickModel().get("alignWithLabel"),s=a[e],l="x1"===n[e]||"y1"===n[e];if(l&&!r&&(s+=1),i.length<2)return;if(2===i.length)return void(o[e]=t.toGlobalCoord(t.getExtent()[l?1:0]));for(var u=void 0,c=void 0,d=1,h=0;h<i.length;h++){var g=i[h].coord,p=h===i.length-1?i[h-1].tickValue+d:i[h].tickValue;if(p===s){c=g;break}if(p<s)u=g;else if(null!=u&&p>s){c=(g+u)/2;break}1===h&&(d=p-i[0].tickValue)}null==c&&(u?u&&(c=i[i.length-1].coord):c=i[0].coord),o[e]=t.toGlobalCoord(c)}}));else{var s=this.getData(),l=s.getLayout("offset"),u=s.getLayout("size"),c=r.getBaseAxis().isHorizontal()?0:1;o[c]+=l+u/2}return o}return[NaN,NaN]},n.type="series.__base_bar__",n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},n}(D);D.registerClass(oe);const se=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return k(e,t),e.prototype.getInitialData=function(){return Gt(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},e.prototype.brushSelector=function(t,e,n){return n.rect(e.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=T(oe.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(oe);var le=function(){return function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}}(),ue=function(t){function e(e){var n=t.call(this,e)||this;return n.type="sausage",n}return k(e,t),e.prototype.getDefaultShape=function(){return new le},e.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r0||0,0),a=Math.max(e.r,0),o=.5*(a-r),s=r+o,l=e.startAngle,u=e.endAngle,c=e.clockwise,d=2*Math.PI,h=c?u-l<d:l-u<d;h||(l=u-(c?d:-d));var g=Math.cos(l),p=Math.sin(l),f=Math.cos(u),y=Math.sin(u);h?(t.moveTo(g*r+n,p*r+i),t.arc(g*s+n,p*s+i,o,-Math.PI+l,l,!c)):t.moveTo(g*a+n,p*a+i),t.arc(n,i,a,l,u,!c),t.arc(f*s+n,y*s+i,o,u-2*Math.PI,u-Math.PI,!c),0!==r&&t.arc(n,i,r,u,l,c)},e}(E);function ce(t,e,n){return e*Math.sin(t)*(n?-1:1)}function de(t,e,n){return e*Math.cos(t)*(n?1:-1)}var he=Math.max,ge=Math.min;var pe=function(t){function e(){var n=t.call(this)||this;return n.type=e.type,n._isFirstFrame=!0,n}return k(e,t),e.prototype.render=function(t,e,n,i){this._model=t,this._removeOnRenderedListener(n),this._updateDrawMode(t);var r=t.get("coordinateSystem");"cartesian2d"!==r&&"polar"!==r||(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n,i))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,e){this._progressiveEls=[],this._incrementalRenderLarge(t,e)},e.prototype.eachRendered=function(t){P(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t,e,n,i){var r,a=this.group,o=t.getData(),s=this._data,l=t.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?r=u.isHorizontal():"polar"===l.type&&(r="angle"===u.dim);var c=t.isAnimationEnabled()?t:null,d=function(t,e){var n=t.get("realtimeSort",!0),i=e.getBaseAxis();if(n&&"category"===i.type&&"cartesian2d"===e.type)return{baseAxis:i,otherAxis:e.getOtherAxis(i)}}(t,l);d&&this._enableRealtimeSort(d,o,n);var h=t.get("clip",!0)||d,g=function(t,e){var n=t.getArea&&t.getArea();if(ne(t,"cartesian2d")){var i=t.getBaseAxis();if("category"!==i.type||!i.onBand){var r=e.getLayout("bandWidth");i.isHorizontal()?(n.x-=r,n.width+=2*r):(n.y-=r,n.height+=2*r)}}return n}(l,o);a.removeClipPath();var p=t.get("roundCap",!0),f=t.get("showBackground",!0),y=t.getModel("backgroundStyle"),x=y.get("borderRadius")||0,v=[],m=this._backgroundEls,A=i&&i.isInitSort,b=i&&"changeAxisOrder"===i.type;function M(t){var e=Me[l.type](o,t),n=function(t,e,n){var i="polar"===t.type?I:C;return new i({shape:ke(e,n,t),silent:!0,z2:0})}(l,r,e);return n.useStyle(y.getItemStyle()),"cartesian2d"===l.type?n.setShape("r",x):n.setShape("cornerRadius",x),v[t]=n,n}o.diff(s).add((function(e){var n=o.getItemModel(e),i=Me[l.type](o,e,n);if(f&&M(e),o.hasValue(e)&&be[l.type](i)){var s=!1;h&&(s=fe[l.type](g,i));var y=ye[l.type](t,o,e,i,r,c,u.model,!1,p);d&&(y.forceLabelAnimation=!0),we(y,o,e,n,i,t,r,"polar"===l.type),A?y.attr({shape:i}):d?xe(d,c,y,i,e,r,!1,!1):S(y,{shape:i},t,e),o.setItemGraphicEl(e,y),a.add(y),y.ignore=s}})).update((function(e,n){var i=o.getItemModel(e),_=Me[l.type](o,e,i);if(f){var w=void 0;0===m.length?w=M(n):((w=m[n]).useStyle(y.getItemStyle()),"cartesian2d"===l.type?w.setShape("r",x):w.setShape("cornerRadius",x),v[e]=w);var C=Me[l.type](o,e),S=ke(r,C,l);N(w,{shape:S},c,e)}var I=s.getItemGraphicEl(n);if(o.hasValue(e)&&be[l.type](_)){var L=!1;if(h&&(L=fe[l.type](g,_))&&a.remove(I),I?V(I):I=ye[l.type](t,o,e,_,r,c,u.model,!!I,p),d&&(I.forceLabelAnimation=!0),b){var k=I.getTextContent();if(k){var D=G(k);null!=D.prevValue&&(D.prevValue=D.value)}}else we(I,o,e,i,_,t,r,"polar"===l.type);A?I.attr({shape:_}):d?xe(d,c,I,_,e,r,!0,b):N(I,{shape:_},t,e,null),o.setItemGraphicEl(e,I),I.ignore=L,a.add(I)}else a.remove(I)})).remove((function(e){var n=s.getItemGraphicEl(e);n&&B(n,t,e)})).execute();var _=this._backgroundGroup||(this._backgroundGroup=new z);_.removeAll();for(var w=0;w<v.length;++w)_.add(v[w]);a.add(_),this._backgroundEls=v,this._data=o},e.prototype._renderLarge=function(t,e,n){this._clear(),Ie(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,e){this._removeBackground(),Ie(e,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var e=t.get("clip",!0)&&function(t,e,n,i,r){return t?"polar"===t.type?ee(t,e,n):"cartesian2d"===t.type?te(t,e,n,i,r):null:null}(t.coordinateSystem,!1,t),n=this.group;e?n.setClipPath(e):n.removeClipPath()},e.prototype._enableRealtimeSort=function(t,e,n){var i=this;if(e.count()){var r=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(e,t,n),this._isFirstFrame=!1;else{var a=function(t){var n=e.getItemGraphicEl(t),i=n&&n.shape;return i&&Math.abs(r.isHorizontal()?i.height:i.width)||0};this._onRendered=function(){i._updateSortWithinSameData(e,a,r,n)},n.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,e,n){var i=[];return t.each(t.mapDimension(e.dim),(function(t,e){var r=n(e);r=null==r?NaN:r,i.push({dataIndex:e,mappedValue:r,ordinalNumber:t})})),i.sort((function(t,e){return e.mappedValue-t.mappedValue})),{ordinalNumbers:p(i,(function(t){return t.ordinalNumber}))}},e.prototype._isOrderChangedWithinSameData=function(t,e,n){for(var i=n.scale,r=t.mapDimension(n.dim),a=Number.MAX_VALUE,o=0,s=i.getOrdinalMeta().categories.length;o<s;++o){var l=t.rawIndexOf(r,i.getRawOrdinalNumber(o)),u=l<0?Number.MIN_VALUE:e(t.indexOfRawIndex(l));if(u>a)return!0;a=u}return!1},e.prototype._isOrderDifferentInView=function(t,e){for(var n=e.scale,i=n.getExtent(),r=Math.max(0,i[0]),a=Math.min(i[1],n.getOrdinalMeta().categories.length-1);r<=a;++r)if(t.ordinalNumbers[r]!==n.getRawOrdinalNumber(r))return!0},e.prototype._updateSortWithinSameData=function(t,e,n,i){if(this._isOrderChangedWithinSameData(t,e,n)){var r=this._dataSort(t,n,e);this._isOrderDifferentInView(r,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:r}))}},e.prototype._dispatchInitSort=function(t,e,n){var i=e.baseAxis,r=this._dataSort(t,i,(function(n){return t.get(t.mapDimension(e.otherAxis.dim),n)}));n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:r})},e.prototype.remove=function(t,e){this._clear(this._model),this._removeOnRenderedListener(e)},e.prototype.dispose=function(t,e){this._removeOnRenderedListener(e)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var e=this.group,n=this._data;t&&t.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(e){B(e,t,F(e).dataIndex)}))):e.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(W),fe={cartesian2d:function(t,e){var n=e.width<0?-1:1,i=e.height<0?-1:1;n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var r=t.x+t.width,a=t.y+t.height,o=he(e.x,t.x),s=ge(e.x+e.width,r),l=he(e.y,t.y),u=ge(e.y+e.height,a),c=s<o,d=u<l;return e.x=c&&o>r?s:o,e.y=d&&l>a?u:l,e.width=c?0:s-o,e.height=d?0:u-l,n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),c||d},polar:function(t,e){var n=e.r0<=e.r?1:-1;if(n<0){var i=e.r;e.r=e.r0,e.r0=i}var r=ge(e.r,t.r),a=he(e.r0,t.r0);e.r=r,e.r0=a;var o=r-a<0;if(n<0){i=e.r;e.r=e.r0,e.r0=i}return o}},ye={cartesian2d:function(t,e,n,i,r,a,o,s,l){var u=new C({shape:H({},i),z2:1});(u.__dataIndex=n,u.name="item",a)&&(u.shape[r?"height":"width"]=0);return u},polar:function(t,e,n,i,r,a,o,s,l){var u=!r&&l?ue:I,c=new u({shape:i,z2:1});c.name="item";var d,h,g=_e(r);if(c.calculateTextPosition=(d=g,h=({isRoundCap:u===ue}||{}).isRoundCap,function(t,e,n){var i=e.position;if(!i||i instanceof Array)return R(t,e,n);var r=d(i),a=null!=e.distance?e.distance:5,o=this.shape,s=o.cx,l=o.cy,u=o.r,c=o.r0,g=(u+c)/2,p=o.startAngle,f=o.endAngle,y=(p+f)/2,x=h?Math.abs(u-c)/2:0,v=Math.cos,m=Math.sin,A=s+u*v(p),b=l+u*m(p),M="left",_="top";switch(r){case"startArc":A=s+(c-a)*v(y),b=l+(c-a)*m(y),M="center",_="top";break;case"insideStartArc":A=s+(c+a)*v(y),b=l+(c+a)*m(y),M="center",_="bottom";break;case"startAngle":A=s+g*v(p)+ce(p,a+x,!1),b=l+g*m(p)+de(p,a+x,!1),M="right",_="middle";break;case"insideStartAngle":A=s+g*v(p)+ce(p,-a+x,!1),b=l+g*m(p)+de(p,-a+x,!1),M="left",_="middle";break;case"middle":A=s+g*v(y),b=l+g*m(y),M="center",_="middle";break;case"endArc":A=s+(u+a)*v(y),b=l+(u+a)*m(y),M="center",_="bottom";break;case"insideEndArc":A=s+(u-a)*v(y),b=l+(u-a)*m(y),M="center",_="top";break;case"endAngle":A=s+g*v(f)+ce(f,a+x,!0),b=l+g*m(f)+de(f,a+x,!0),M="left",_="middle";break;case"insideEndAngle":A=s+g*v(f)+ce(f,-a+x,!0),b=l+g*m(f)+de(f,-a+x,!0),M="right",_="middle";break;default:return R(t,e,n)}return(t=t||{}).x=A,t.y=b,t.align=M,t.verticalAlign=_,t}),a){var p=r?"r":"endAngle",f={};c.shape[p]=r?i.r0:i.startAngle,f[p]=i[p],(s?N:S)(c,{shape:f},a)}return c}};function xe(t,e,n,i,r,a,o,s){var l,u;a?(u={x:i.x,width:i.width},l={y:i.y,height:i.height}):(u={y:i.y,height:i.height},l={x:i.x,width:i.width}),s||(o?N:S)(n,{shape:l},e,r,null);var c=e?t.baseAxis.model:null;(o?N:S)(n,{shape:u},c,r)}function ve(t,e){for(var n=0;n<e.length;n++)if(!isFinite(t[e[n]]))return!0;return!1}var me=["x","y","width","height"],Ae=["cx","cy","r","startAngle","endAngle"],be={cartesian2d:function(t){return!ve(t,me)},polar:function(t){return!ve(t,Ae)}},Me={cartesian2d:function(t,e,n){var i=t.getItemLayout(e),r=n?function(t,e){var n=t.get(["itemStyle","borderColor"]);if(!n||"none"===n)return 0;var i=t.get(["itemStyle","borderWidth"])||0,r=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(i,r,a)}(n,i):0,a=i.width>0?1:-1,o=i.height>0?1:-1;return{x:i.x+a*r/2,y:i.y+o*r/2,width:i.width-a*r,height:i.height-o*r}},polar:function(t,e,n){var i=t.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function _e(t){return function(t){var e=t?"Arc":"Angle";return function(t){switch(t){case"start":case"insideStart":case"end":case"insideEnd":return t+e;default:return t}}}(t)}function we(t,n,i,r,a,o,s,l){var u=n.getItemVisual(i,"style");if(l){if(!o.get("roundCap")){var c=t.shape,h=U(r.getModel("itemStyle"),c,!0);H(c,h),t.setShape(c)}}else{var g=r.get(["itemStyle","borderRadius"])||0;t.setShape("r",g)}t.useStyle(u);var p=r.getShallow("cursor");p&&t.attr("cursor",p);var f=l?s?a.r>=a.r0?"endArc":"startArc":a.endAngle>=a.startAngle?"endAngle":"startAngle":s?a.height>=0?"bottom":"top":a.width>=0?"right":"left",y=Z(r);Y(t,y,{labelFetcher:o,labelDataIndex:i,defaultText:Kt(o.getData(),i),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:f});var x=t.getTextContent();if(l&&x){var v=r.get(["label","position"]);t.textConfig.inside="middle"===v||null,function(t,e,n,i){if(O(i))t.setTextConfig({rotation:i});else if(d(e))t.setTextConfig({rotation:0});else{var r,a=t.shape,o=a.clockwise?a.startAngle:a.endAngle,s=a.clockwise?a.endAngle:a.startAngle,l=(o+s)/2,u=n(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":r=l;break;case"startAngle":case"insideStartAngle":r=o;break;case"endAngle":case"insideEndAngle":r=s;break;default:return void t.setTextConfig({rotation:0})}var c=1.5*Math.PI-r;"middle"===u&&c>Math.PI/2&&c<1.5*Math.PI&&(c-=Math.PI),t.setTextConfig({rotation:c})}}(t,"outside"===v?f:v,_e(s),r.get(["label","rotate"]))}X(x,y,o.getRawValue(i),(function(t){return Qt(n,t)}));var m=r.getModel(["emphasis"]);j(t,m.get("focus"),m.get("blurScope"),m.get("disabled")),q(t,r),function(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}(a)&&(t.style.fill="none",t.style.stroke="none",e(t.states,(function(t){t.style&&(t.style.fill=t.style.stroke="none")})))}var Ce=function(){return function(){}}(),Se=function(t){function e(e){var n=t.call(this,e)||this;return n.type="largeBar",n}return k(e,t),e.prototype.getDefaultShape=function(){return new Ce},e.prototype.buildPath=function(t,e){for(var n=e.points,i=this.baseDimIdx,r=1-this.baseDimIdx,a=[],o=[],s=this.barWidth,l=0;l<n.length;l+=3)o[i]=s,o[r]=n[l+2],a[i]=n[l+i],a[r]=n[l+r],t.rect(a[0],a[1],o[0],o[1])},e}(E);function Ie(t,e,n,i){var r=t.getData(),a=r.getLayout("valueAxisHorizontal")?1:0,o=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=t.getModel("backgroundStyle"),u=r.getLayout("largeBackgroundPoints");if(u){var c=new Se({shape:{points:u},incremental:!!i,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),e.add(c),n&&n.push(c)}var d=new Se({shape:{points:r.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=a,d.largeDataIndices=o,d.barWidth=s,e.add(d),d.useStyle(r.getVisual("style")),F(d).seriesIndex=t.seriesIndex,t.get("silent")||(d.on("mousedown",Le),d.on("mousemove",Le)),n&&n.push(d)}var Le=J((function(t){var e=function(t,e,n){for(var i=t.baseDimIdx,r=1-i,a=t.shape.points,o=t.largeDataIndices,s=[],l=[],u=t.barWidth,c=0,d=a.length/3;c<d;c++){var h=3*c;if(l[i]=u,l[r]=a[h+2],s[i]=a[h+i],s[r]=a[h+r],l[r]<0&&(s[r]+=l[r],l[r]=-l[r]),e>=s[0]&&e<=s[0]+l[0]&&n>=s[1]&&n<=s[1]+l[1])return o[c]}return-1}(this,t.offsetX,t.offsetY);F(this).dataIndex=e>=0?e:null}),30,!1);function ke(t,e,n){if(ne(n,"cartesian2d")){var i=e,r=n.getArea();return{x:t?i.x:r.x,y:t?r.y:i.y,width:t?i.width:r.width,height:t?r.height:i.height}}var a=e;return{cx:(r=n.getArea()).cx,cy:r.cy,r0:t?r.r0:a.r0,r:t?r.r:a.r,startAngle:t?a.startAngle:0,endAngle:t?a.endAngle:2*Math.PI}}const De=pe;function Te(t){t.registerChartView(De),t.registerSeriesModel(se),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,o(K,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,$("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,ae("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},(function(e){t.sortInfo&&e.axis.setCategorySortInfo(t.sortInfo)}))}))}const Ee=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k(e,t),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Q);var Re=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return k(n,e),n.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",t).models[0]},n.type="cartesian2dAxis",n}(Q);tt(Re,Bt);var Oe={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Pe=et({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Oe),Ne=et({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Oe);const Ve={category:Pe,value:Ne,time:et({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Ne),log:nt({logBase:10},Ne)};var Ge={value:1,category:1,time:1,log:1};function Be(t,n,i,r){e(Ge,(function(e,a){var o=et(et({},Ve[a],!0),r,!0),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=n+"Axis."+a,e}return k(e,t),e.prototype.mergeDefaultAndTheme=function(t,e){var n=it(this),i=n?rt(t):{},r=e.getTheme();et(t,r.get(a+"Axis")),et(t,this.getDefaultOption()),t.type=ze(t),n&&at(t,i,n)},e.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=ot.createByAxisModel(this))},e.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},e.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},e.type=n+"Axis."+a,e.defaultOption=o,e}(i);t.registerComponentModel(s)})),t.registerSubTypeDefaulter(n+"Axis",ze)}function ze(t){return t.type||(t.data?"category":"value")}var Fe=function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return p(this._dimList,(function(t){return this._axes[t]}),this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),st(this.getAxes(),(function(e){return e.scale.type===t}))},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}();var We=["x","y"];function He(t){return"interval"===t.type||"time"===t.type}var Ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=We,e}return k(e,t),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,e=this.getAxis("y").scale;if(He(t)&&He(e)){var n=t.getExtent(),i=e.getExtent(),r=this.dataToPoint([n[0],i[0]]),a=this.dataToPoint([n[1],i[1]]),o=n[1]-n[0],s=i[1]-i[0];if(o&&s){var l=(a[0]-r[0])/o,u=(a[1]-r[1])/s,c=r[0]-n[0]*l,d=r[1]-i[0]*u,h=this._transform=[l,0,0,u,c,d];this._invTransform=lt([],h)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,e){var n=this.dataToPoint(t),i=this.dataToPoint(e),r=this.getArea(),a=new ut(n[0],n[1],i[0]-n[0],i[1]-n[1]);return r.intersect(a)},e.prototype.dataToPoint=function(t,e,n){n=n||[];var i=t[0],r=t[1];if(this._transform&&null!=i&&isFinite(i)&&null!=r&&isFinite(r))return ct(n,t,this._transform);var a=this.getAxis("x"),o=this.getAxis("y");return n[0]=a.toGlobalCoord(a.dataToCoord(i,e)),n[1]=o.toGlobalCoord(o.dataToCoord(r,e)),n},e.prototype.clampData=function(t,e){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,r=n.getExtent(),a=i.getExtent(),o=n.parse(t[0]),s=i.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(r[0],r[1]),o),Math.max(r[0],r[1])),e[1]=Math.min(Math.max(Math.min(a[0],a[1]),s),Math.max(a[0],a[1])),e},e.prototype.pointToData=function(t,e){var n=[];if(this._invTransform)return ct(n,t,this._invTransform);var i=this.getAxis("x"),r=this.getAxis("y");return n[0]=i.coordToData(i.toLocalCoord(t[0]),e),n[1]=r.coordToData(r.toLocalCoord(t[1]),e),n},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(t){t=t||0;var e=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),i=Math.min(e[0],e[1])-t,r=Math.min(n[0],n[1])-t,a=Math.max(e[0],e[1])-i+t,o=Math.max(n[0],n[1])-r+t;return new ut(i,r,a,o)},e}(Fe);const Ze=function(t){function e(e,n,i,r,a){var o=t.call(this,e,n,i)||this;return o.index=0,o.type=r||"value",o.position=a||"bottom",o}return k(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}($t);var Ye=Math.log;function Xe(t,e){return t.getCoordSysModel()===e}function je(t,e,n,i){n.getAxesOnZeroOf=function(){return r?[r]:[]};var r,a=t[e],o=n.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)qe(a[l])&&(r=a[l]);else for(var u in a)if(a.hasOwnProperty(u)&&qe(a[u])&&!i[c(a[u])]){r=a[u];break}r&&(i[c(r)]=!0)}function c(t){return t.dim+"_"+t.index}}function qe(t){return t&&"category"!==t.type&&"time"!==t.type&&Mt(t)}const Je=function(){function n(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=We,this._initCartesian(t,e,n),this.model=t}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(t,n){var i=this._axesMap;function r(t){var n,i=_t(t),r=i.length;if(r){for(var a=[],o=r-1;o>=0;o--){var s=t[+i[o]],l=s.model,u=s.scale;wt(u)&&l.get("alignTicks")&&null==l.get("interval")?a.push(s):(Ct(u,l),wt(u)&&(n=s))}a.length&&(n||(n=a.pop(),Ct(n.scale,n.model)),e(a,(function(t){!function(t,e,n){var i=dt.prototype,r=i.getTicks.call(n),a=i.getTicks.call(n,!0),o=r.length-1,s=i.getInterval.call(n),l=ht(t,e),u=l.extent,c=l.fixMin,d=l.fixMax;if("log"===t.type){var h=Ye(t.base);u=[Ye(u[0])/h,Ye(u[1])/h]}t.setExtent(u[0],u[1]),t.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:d});var g=i.getExtent.call(t);c&&(u[0]=g[0]),d&&(u[1]=g[1]);var p=i.getInterval.call(t),f=u[0],y=u[1];if(c&&d)p=(y-f)/o;else if(c)for(y=u[0]+p*o;y<u[1]&&isFinite(y)&&isFinite(u[1]);)p=gt(p),y=u[0]+p*o;else if(d)for(f=u[1]-p*o;f>u[0]&&isFinite(f)&&isFinite(u[0]);)p=gt(p),f=u[1]-p*o;else{t.getTicks().length-1>o&&(p=gt(p));var x=p*o;y=Math.ceil(u[1]/p)*p,(f=_(y-x))<0&&u[0]>=0?(f=0,y=_(x)):y>0&&u[1]<=0&&(y=0,f=-_(x))}var v=(r[0].value-a[0].value)/s,m=(r[o].value-a[o].value)/s;i.setExtent.call(t,f+p*v,y+p*m),i.setInterval.call(t,p),(v||m)&&i.setNiceExtent.call(t,f+p,y-p)}(t.scale,t.model,n.scale)})))}}this._updateScale(t,this.model),r(i.x),r(i.y);var a={};e(i.x,(function(t){je(i,"y",t,a)})),e(i.y,(function(t){je(i,"x",t,a)})),this.resize(this.model,n)},n.prototype.resize=function(t,n,i){var r=t.getBoxLayoutParams(),a=!i&&t.get("containLabel"),o=pt(r,{width:n.getWidth(),height:n.getHeight()});this._rect=o;var s=this._axesList;function l(){e(s,(function(t){var e=t.isHorizontal(),n=e?[0,o.width]:[0,o.height],i=t.inverse?1:0;t.setExtent(n[i],n[1-i]),function(t,e){var n=t.getExtent(),i=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return i-t+e}}(t,e?o.x:o.y)}))}l(),a&&(e(s,(function(t){if(!t.model.get(["axisLabel","inside"])){var e=ft(t);if(e){var n=t.isHorizontal()?"height":"width",i=t.model.get(["axisLabel","margin"]);o[n]-=e[n]+i,"top"===t.position?o.y+=e.height+i:"left"===t.position&&(o.x+=e.width+i)}}})),l()),e(this._coordsList,(function(t){t.calcAffineTransform()}))},n.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n)return n[e||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}yt(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===t||r[i].getAxis("y").index===e)return r[i]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},n.prototype.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},n.prototype._findConvertTarget=function(e){var n,i,r=e.seriesModel,a=e.xAxisModel||r&&r.getReferringComponents("xAxis",t).models[0],o=e.yAxisModel||r&&r.getReferringComponents("yAxis",t).models[0],s=e.gridModel,l=this._coordsList;if(r)n=r.coordinateSystem,xt(l,n)<0&&(n=null);else if(a&&o)n=this.getCartesian(a.componentIndex,o.componentIndex);else if(a)i=this.getAxis("x",a.componentIndex);else if(o)i=this.getAxis("y",o.componentIndex);else if(s){s.coordinateSystem===this&&(n=this._coordsList[0])}return{cartesian:n,axis:i}},n.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},n.prototype._initCartesian=function(t,n,i){var r=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(n.eachComponent("xAxis",u("x"),this),n.eachComponent("yAxis",u("y"),this),!l.x||!l.y)return this._axesMap={},void(this._axesList=[]);function u(e){return function(n,i){if(Xe(n,t)){var r=n.get("position");"x"===e?"top"!==r&&"bottom"!==r&&(r=o.bottom?"top":"bottom"):"left"!==r&&"right"!==r&&(r=o.left?"right":"left"),o[r]=!0;var u=new Ze(e,vt(n),[0,0],n.get("type"),r),c="category"===u.type;u.onBand=c&&n.get("boundaryGap"),u.inverse=n.get("inverse"),n.axis=u,u.model=n,u.grid=a,u.index=i,a._axesList.push(u),s[e][i]=u,l[e]++}}}this._axesMap=s,e(s.x,(function(n,i){e(s.y,(function(e,a){var o="x"+i+"y"+a,s=new Ue(o);s.master=r,s.model=t,r._coordsMap[o]=s,r._coordsList.push(s),s.addAxis(n),s.addAxis(e)}))}))},n.prototype._updateScale=function(t,n){function i(t,n){e(bt(t,n.dim),(function(e){n.scale.unionExtentFromData(t,e)}))}e(this._axesList,(function(t){if(t.scale.setExtent(Infinity,-Infinity),"category"===t.type){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}})),t.eachSeries((function(t){if(mt(t)){var e=At(t),r=e.xAxisModel,a=e.yAxisModel;if(!Xe(r,n)||!Xe(a,n))return;var o=this.getCartesian(r.componentIndex,a.componentIndex),s=t.getData(),l=o.getAxis("x"),u=o.getAxis("y");i(s,l),i(s,u)}}),this)},n.prototype.getTooltipAxes=function(t){var n=[],i=[];return e(this.getCartesians(),(function(e){var r=null!=t&&"auto"!==t?e.getAxis(t):e.getBaseAxis(),a=e.getOtherAxis(r);xt(n,r)<0&&n.push(r),xt(i,a)<0&&i.push(a)})),{baseAxes:n,otherAxes:i}},n.create=function(t,e){var i=[];return t.eachComponent("grid",(function(r,a){var o=new n(r,t,e);o.name="grid_"+a,o.resize(r,e,!0),r.coordinateSystem=o,i.push(o)})),t.eachSeries((function(t){if(mt(t)){var e=At(t),n=e.xAxisModel,i=e.yAxisModel,r=n.getCoordSysModel().coordinateSystem;t.coordinateSystem=r.getCartesian(n.componentIndex,i.componentIndex)}})),i},n.dimensions=We,n}();var $e=y();var Ke=["axisLine","axisTickLabel","axisName"],Qe=["splitArea","splitLine","minorSplitLine"],tn=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=n.type,e.axisPointerClass="CartesianAxisPointer",e}return k(n,t),n.prototype.render=function(n,i,r,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new z,this.group.add(this._axisGroup),n.get("show")){var s=n.getCoordSysModel(),l=St(s,n),u=new It(n,H({handleAutoShown:function(t){for(var e=s.coordinateSystem.getCartesians(),i=0;i<e.length;i++)if(wt(e[i].getOtherAxis(n.axis).scale))return!0;return!1}},l));e(Ke,u.add,u),this._axisGroup.add(u.getGroup()),e(Qe,(function(t){n.get([t,"show"])&&en[t](this,this._axisGroup,n,s)}),this),a&&"changeAxisOrder"===a.type&&a.isInitSort||Lt(o,this._axisGroup,n),t.prototype.render.call(this,n,i,r,a)}},n.prototype.remove=function(){$e(this).splitAreaColors=null},n.type="cartesianAxis",n}(kt),en={splitLine:function(t,e,n,i){var r=n.axis;if(!r.scale.isBlank()){var a=n.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=d(s)?s:[s];for(var l=i.coordinateSystem.getRect(),u=r.isHorizontal(),c=0,h=r.getTicksCoords({tickModel:a}),g=[],p=[],f=o.getLineStyle(),y=0;y<h.length;y++){var x=r.toGlobalCoord(h[y].coord);u?(g[0]=x,g[1]=l.y,p[0]=x,p[1]=l.y+l.height):(g[0]=l.x,g[1]=x,p[0]=l.x+l.width,p[1]=x);var v=c++%s.length,m=h[y].tickValue,A=new Dt({anid:null!=m?"line_"+h[y].tickValue:null,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:p[0],y2:p[1]},style:nt({stroke:s[v]},f),silent:!0});Tt(A.shape,f.lineWidth),e.add(A)}}},minorSplitLine:function(t,e,n,i){var r=n.axis,a=n.getModel("minorSplitLine").getModel("lineStyle"),o=i.coordinateSystem.getRect(),s=r.isHorizontal(),l=r.getMinorTicksCoords();if(l.length)for(var u=[],c=[],d=a.getLineStyle(),h=0;h<l.length;h++)for(var g=0;g<l[h].length;g++){var p=r.toGlobalCoord(l[h][g].coord);s?(u[0]=p,u[1]=o.y,c[0]=p,c[1]=o.y+o.height):(u[0]=o.x,u[1]=p,c[0]=o.x+o.width,c[1]=p);var f=new Dt({anid:"minor_line_"+l[h][g].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:c[0],y2:c[1]},style:d,silent:!0});Tt(f.shape,d.lineWidth),e.add(f)}},splitArea:function(t,e,i,r){!function(t,e,i,r){var a=i.axis;if(!a.scale.isBlank()){var o=i.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=r.coordinateSystem.getRect(),c=a.getTicksCoords({tickModel:o,clamp:!0});if(c.length){var h=l.length,g=$e(t).splitAreaColors,p=n(),f=0;if(g)for(var y=0;y<c.length;y++){var x=g.get(c[y].tickValue);if(null!=x){f=(x+(h-1)*y)%h;break}}var v=a.toGlobalCoord(c[0].coord),m=s.getAreaStyle();for(l=d(l)?l:[l],y=1;y<c.length;y++){var A=a.toGlobalCoord(c[y].coord),b=void 0,M=void 0,_=void 0,w=void 0;a.isHorizontal()?(b=v,M=u.y,_=A-b,w=u.height,v=b+_):(b=u.x,M=v,_=u.width,v=M+(w=A-M));var S=c[y-1].tickValue;null!=S&&p.set(S,f),e.add(new C({anid:null!=S?"area_"+S:null,shape:{x:b,y:M,width:_,height:w},style:nt({fill:l[f]},m),autoBatch:!0,silent:!0})),f=(f+1)%h}$e(t).splitAreaColors=p}}}(t,e,i,r)}},nn=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return k(e,t),e.type="xAxis",e}(tn),rn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=nn.type,e}return k(e,t),e.type="yAxis",e}(tn),an=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="grid",e}return k(e,t),e.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new C({shape:t.coordinateSystem.getRect(),style:nt({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(Et),on={offset:0};function sn(t){t.registerComponentView(an),t.registerComponentModel(Ee),t.registerCoordinateSystem("cartesian2d",Je),Be(t,"x",Re,on),Be(t,"y",Re,on),t.registerComponentView(nn),t.registerComponentView(rn),t.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))}function ln(t){Rt(sn),Rt(Ot)}export{ln as a,Qt as b,Gt as c,ne as d,te as e,ee as f,Kt as g,ae as h,Te as i};
